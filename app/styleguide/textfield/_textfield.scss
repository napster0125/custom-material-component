@import "../palette/palette";

$textfieldBackgroundColor: transparent;
$textfieldLabelColor: rgba(0, 0, 0, 0.26);
$textfieldBottomBorderColor: rgba(0, 0, 0, 0.12);
$textfieldHighlightColor: nth($primaryPalette, 6);
$textfieldErrorColor: nth($paletteRed, 7);
$textfieldDisabledColor: $textfieldBottomBorderColor;

$textfieldFontSize: 16px;
$textfieldWidth: 100%;

.text-input {
  border       : none;
  border-bottom: 1px solid $textfieldBottomBorderColor;
  display      : block;
  font-size    : $textfieldFontSize;
  margin       : 0;
  padding      : 8px 0;
  width        : $textfieldWidth;
  background: $textfieldBackgroundColor;
}
.text-input[disabled] {
  background-color: transparent;
  border-bottom   : 1px dashed $textfieldDisabledColor;
}
.text-input ~ label {
  bottom        : 0;
  color         : $textfieldLabelColor;
  font-size     : $textfieldFontSize;
  left          : 0;
  pointer-events: none;
  position      : absolute;
  top           : 10px;
  width         : 100%;
}
.text-input.floating-label ~label {
  -moz-transition   : 0.2s ease all;
  -webkit-transition: 0.2s ease all;
  transition        : 0.2s ease all;
}
.text-input:focus {
  outline: none;
}
.text-input ~ label:after {
  -moz-transition   : 0.2s ease all;
  -webkit-transition: 0.2s ease all;
  background-color  : $textfieldHighlightColor;
  bottom            : 0;
  content           : '';
  height            : 2px;
  left              : 45%;
  position          : absolute;
  transition        : 0.2s ease all;
  visibility        : hidden;
  width             : 10px;
}
.text-input:focus ~ label:after {
  left      : 0;
  visibility: visible;
  width     : 100%;
}
.text-input.dirty ~ label {
  visibility: hidden;
}
.text-input.floating-label:focus ~ label,
.text-input.floating-label.dirty ~ label {
  color     : $textfieldHighlightColor;
  font-size : 12px;
  top       : -10px;
  visibility: visible;
}
.text-input.floating-label:invalid ~ label {
  color    : $textfieldErrorColor;
  font-size: 12px;
  top      : -10px;
}
.error {
  color     : $textfieldErrorColor;
  float     : left;
  font-size : 12px;
  margin-top: 3px;
  visibility: hidden;
}
.text-input:invalid ~label:after {
  background-color: $textfieldErrorColor;
}
.text-input:invalid ~.error {
  visibility: visible;
}
.text-input:invalid {
  border-color: $textfieldErrorColor;
  box-shadow  : none;
}
.inputClone,
.maxHeight {
  left      : 0;
  margin    : 0;
  padding   : 0.5em 0;
  position  : absolute;
  top       : 0;
  visibility: hidden;
}

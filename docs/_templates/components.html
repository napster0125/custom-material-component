{% extends 'layout.html' %}

{% block content %}
<link href="{{page.include_prefix}}/assets/components.css" rel="stylesheet">
<script src="{{page.include_prefix}}/assets/components.js"></script>
<link rel="stylesheet" href="/components/demos.css">
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/0.0.1/prism.min.css" rel="stylesheet">

<div class="mdl-components mdl-js-components">
  <aside class="mdl-components__nav">
    {% for component in page.components %}
      <a href="#{{ component.name }}-section" class="mdl-components__link mdl-component {{ component.name }} {% if loop.first %}is-active{%- endif %}">
        <div class="mdl-components__link-image"
             style="background-image: url('/assets/comp_{{ component.name }}.png')">
        </div>&nbsp;
        <span class="mdl-components__link-text">{{ component.title }}</span>
      </a>
    {%- endfor %}
  </aside>
  <main class="mdl-components__pages">
  {% for component in page.components -%}
  {% set demo_css = "../../src/" + component.name + "/demo.css" %}
  <style>
  {% include demo_css ignore missing %}
  </style>
  {% set demo_js = "../../src/" + component.name + "/demo.js" %}
  <script>
  {% include demo_js ignore missing %}
  </script>
  <section id="{{ component.name }}-section" class="mdl-components__page mdl-grid mdl-cell mdl-cell--12-col {% if loop.first %}is-active{%- endif %}">
    <div class="mdl-cell mdl-cell--12-col">
      <h1>{{ component.title }}</h1>
      <p>{{ component.description }}</p>
      <br><br>
      {% set demo = "../../src/" + component.name + "/demo.html" %}
      {% include demo ignore missing %}
      {% set doc = "../../dist/components/" + component.name + "/index.html" %}
      {% include doc ignore missing %}
    </div>
  </section>
  {%- endfor %}
</main>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/0.0.1/prism.min.js"></script>

{% endblock %}
